model: gpt-4
language: go
# Use this configuration for CodeRabbit at /coderabbit.yaml

## Automatically review all PRs
reviews:
  auto_review: true
  auto_review_percentage: 100
  
## Files to review
files_to_review:
  patterns:
    - "*.go"
    - "*.proto"
    - "*.yaml"
    - "*.yml"
    - "go.mod"
    - "go.sum"

## Files to skip
skip_review:
  patterns:
    - "*.pb.go"
    - "*.pb.gw.go"
    - "vendor/**"
    - "node_modules/**"
    - "bin/**"
    - ".git/**"

## Review instructions for specific areas
review_instructions: |
  Focus on:
  1. Graceful shutdown implementation - ensure clean shutdown flows
  2. Certificate management - validate TLS cert handling
  3. Concurrency safety - check goroutines and channels
  4. Error handling - ensure all errors are properly handled
  5. Security - review TLS configurations and security practices
  
  For this Go project:
  - Check for goroutine leaks
  - Verify proper channel closing
  - Validate defer usage
  - Ensure error wrapping with context
  - Review concurrency patterns

## Context for review
context: |
  This is a TLS Hot Reload AI Agent written in Go.
  Key components:
  - main.go: Entry point with graceful shutdown
  - internal/agent/agent.go: Certificate watcher agent
  - internal/tlsstore/: TLS certificate storage and management
  
  The project implements:
  - TLS server on port 8443
  - Certificate file watching and hot reload
  - Graceful shutdown with timeouts
  - Signal handling for clean exits

## Max token usage per review
max_tokens: 4000

## Temperature for review
temperature: 0.7
